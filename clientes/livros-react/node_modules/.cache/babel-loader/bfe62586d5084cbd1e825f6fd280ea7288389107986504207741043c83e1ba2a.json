{"ast":null,"code":"class ControleLivro {\n  constructor(baseURL) {\n    this.baseURL = void 0;\n    this.baseURL = 'http://localhost:3030/livros';\n  }\n  async obterLivros() {\n    try {\n      const response = await fetch(this.baseURL);\n      if (!response.ok) {\n        throw new Error(`Erro ao obter livros: ${response.statusText}`);\n      }\n      const livros = await response.json();\n      return livros;\n    } catch (error) {\n      throw new Error(`Erro ao obter livros: ${error.message}`);\n    }\n  }\n  async excluir(codigo) {\n    console.log(codigo);\n    // try {\n    //     const response = await fetch(`${this.baseURL}/${codigo}`, { method: 'DELETE' });\n    //     return response.ok;\n    // } catch (error: any) {\n    //     throw new Error(`Erro ao excluir livro: ${error.message}`);\n    // }\n  }\n\n  async incluir(livro) {\n    try {\n      const response = await fetch(this.baseURL, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(livro)\n      });\n      return response.ok;\n    } catch (error) {\n      throw new Error(`Erro ao incluir livro: ${error.message}`);\n    }\n  }\n}\nexport default ControleLivro;","map":{"version":3,"names":["ControleLivro","constructor","baseURL","obterLivros","response","fetch","ok","Error","statusText","livros","json","error","message","excluir","codigo","console","log","incluir","livro","method","headers","body","JSON","stringify"],"sources":["E:/Projetos/livro-servidor/clientes/livros-react/src/controle/ControleLivros.ts"],"sourcesContent":["import { Document } from 'mongoose';\nimport LivroSchema from '../../../../modelo/livro-Schema';\n\ninterface Livro extends Document {\n    _id: string | null;\n    titulo: string;\n    codEditora: number;\n    resumo: string;\n    autores: string[];\n}\n\nclass ControleLivro {\n    private baseURL: string;\n\n    constructor(baseURL: string) {\n        this.baseURL = 'http://localhost:3030/livros';\n    }\n\n    async obterLivros(): Promise<Livro[]> {\n        try {\n            const response = await fetch(this.baseURL);\n            if (!response.ok) {\n                throw new Error(`Erro ao obter livros: ${response.statusText}`);\n            }\n\n            const livros: Livro[] = await response.json() as Livro[];\n            return livros;\n        } catch (error: any) {\n            throw new Error(`Erro ao obter livros: ${error.message}`);\n        }\n    }\n\n    async excluir(codigo: string): Promise<boolean> {\n        console.log(codigo)\n        // try {\n        //     const response = await fetch(`${this.baseURL}/${codigo}`, { method: 'DELETE' });\n        //     return response.ok;\n        // } catch (error: any) {\n        //     throw new Error(`Erro ao excluir livro: ${error.message}`);\n        // }\n    }\n\n    async incluir(livro: Livro): Promise<boolean> {\n        try {\n            const response = await fetch(this.baseURL, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(livro),\n            });\n\n            return response.ok;\n        } catch (error: any) {\n            throw new Error(`Erro ao incluir livro: ${error.message}`);\n        }\n    }\n}\n\nexport default ControleLivro;"],"mappings":"AAWA,MAAMA,aAAa,CAAC;EAGhBC,WAAWA,CAACC,OAAe,EAAE;IAAA,KAFrBA,OAAO;IAGX,IAAI,CAACA,OAAO,GAAG,8BAA8B;EACjD;EAEA,MAAMC,WAAWA,CAAA,EAAqB;IAClC,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,IAAI,CAACH,OAAO,CAAC;MAC1C,IAAI,CAACE,QAAQ,CAACE,EAAE,EAAE;QACd,MAAM,IAAIC,KAAK,CAAE,yBAAwBH,QAAQ,CAACI,UAAW,EAAC,CAAC;MACnE;MAEA,MAAMC,MAAe,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAY;MACxD,OAAOD,MAAM;IACjB,CAAC,CAAC,OAAOE,KAAU,EAAE;MACjB,MAAM,IAAIJ,KAAK,CAAE,yBAAwBI,KAAK,CAACC,OAAQ,EAAC,CAAC;IAC7D;EACJ;EAEA,MAAMC,OAAOA,CAACC,MAAc,EAAoB;IAC5CC,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC;IACnB;IACA;IACA;IACA;IACA;IACA;EACJ;;EAEA,MAAMG,OAAOA,CAACC,KAAY,EAAoB;IAC1C,IAAI;MACA,MAAMd,QAAQ,GAAG,MAAMC,KAAK,CAAC,IAAI,CAACH,OAAO,EAAE;QACvCiB,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACL,KAAK;MAC9B,CAAC,CAAC;MAEF,OAAOd,QAAQ,CAACE,EAAE;IACtB,CAAC,CAAC,OAAOK,KAAU,EAAE;MACjB,MAAM,IAAIJ,KAAK,CAAE,0BAAyBI,KAAK,CAACC,OAAQ,EAAC,CAAC;IAC9D;EACJ;AACJ;AAEA,eAAeZ,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}