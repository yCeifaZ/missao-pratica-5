{"ast":null,"code":"export class ControleLivro {\n  constructor(baseURL) {\n    this.baseURL = void 0;\n    this.baseURL = 'http://localhost:3030/livros';\n  }\n  async obterLivros() {\n    try {\n      const response = await fetch(this.baseURL);\n      if (!response.ok) {\n        throw new Error(`Erro ao obter livros: ${response.statusText}`);\n      }\n      const livros = await response.json();\n      return livros;\n    } catch (error) {\n      throw new Error(`Erro ao obter livros: ${error.message}`);\n    }\n  }\n  async excluir(codigo) {\n    try {\n      const response = await fetch(`${this.baseURL}/${codigo}`, {\n        method: 'DELETE'\n      });\n      return response.ok;\n    } catch (error) {\n      throw new Error(`Erro ao excluir livro: ${error.message}`);\n    }\n  }\n  async incluir(livro) {\n    try {\n      const response = await fetch(this.baseURL, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(livro)\n      });\n      return response.ok;\n    } catch (error) {\n      throw new Error(`Erro ao incluir livro: ${error.message}`);\n    }\n  }\n}\nexport default ControleLivro;","map":{"version":3,"names":["ControleLivro","constructor","baseURL","obterLivros","response","fetch","ok","Error","statusText","livros","json","error","message","excluir","codigo","method","incluir","livro","headers","body","JSON","stringify"],"sources":["E:/Projetos/livro-servidor/clientes/livros-react/src/controle/ControleLivros.ts"],"sourcesContent":["import { Document } from 'mongoose';\nimport LivroSchema from '../../../../modelo/livro-Schema';\n\ninterface Livro extends Document {\n    _id: string | null;\n    titulo: string;\n    codEditora: number;\n    resumo: string;\n    autores: string[];\n}\n\nexport class ControleLivro {\n    private baseURL: string;\n\n    constructor(baseURL: string) {\n        this.baseURL = 'http://localhost:3030/livros';\n    }\n\n    async obterLivros(): Promise<Livro[]> {\n        try {\n            const response = await fetch(this.baseURL);\n            if (!response.ok) {\n                throw new Error(`Erro ao obter livros: ${response.statusText}`);\n            }\n\n            const livros: Livro[] = await response.json() as Livro[];\n            return livros;\n        } catch (error: any) {\n            throw new Error(`Erro ao obter livros: ${error.message}`);\n        }\n    }\n\n    async excluir(codigo: string): Promise<boolean> {\n        try {\n            const response = await fetch(`${this.baseURL}/${codigo}`, { method: 'DELETE' });\n            return response.ok;\n        } catch (error: any) {\n            throw new Error(`Erro ao excluir livro: ${error.message}`);\n        }\n    }\n\n    async incluir(livro: Livro): Promise<boolean> {\n        try {\n            const response = await fetch(this.baseURL, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(livro),\n            });\n\n            return response.ok;\n        } catch (error: any) {\n            throw new Error(`Erro ao incluir livro: ${error.message}`);\n        }\n    }\n}\n\nexport default ControleLivro;"],"mappings":"AAWA,OAAO,MAAMA,aAAa,CAAC;EAGvBC,WAAWA,CAACC,OAAe,EAAE;IAAA,KAFrBA,OAAO;IAGX,IAAI,CAACA,OAAO,GAAG,8BAA8B;EACjD;EAEA,MAAMC,WAAWA,CAAA,EAAqB;IAClC,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,IAAI,CAACH,OAAO,CAAC;MAC1C,IAAI,CAACE,QAAQ,CAACE,EAAE,EAAE;QACd,MAAM,IAAIC,KAAK,CAAE,yBAAwBH,QAAQ,CAACI,UAAW,EAAC,CAAC;MACnE;MAEA,MAAMC,MAAe,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAY;MACxD,OAAOD,MAAM;IACjB,CAAC,CAAC,OAAOE,KAAU,EAAE;MACjB,MAAM,IAAIJ,KAAK,CAAE,yBAAwBI,KAAK,CAACC,OAAQ,EAAC,CAAC;IAC7D;EACJ;EAEA,MAAMC,OAAOA,CAACC,MAAc,EAAoB;IAC5C,IAAI;MACA,MAAMV,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAE,IAAI,CAACH,OAAQ,IAAGY,MAAO,EAAC,EAAE;QAAEC,MAAM,EAAE;MAAS,CAAC,CAAC;MAC/E,OAAOX,QAAQ,CAACE,EAAE;IACtB,CAAC,CAAC,OAAOK,KAAU,EAAE;MACjB,MAAM,IAAIJ,KAAK,CAAE,0BAAyBI,KAAK,CAACC,OAAQ,EAAC,CAAC;IAC9D;EACJ;EAEA,MAAMI,OAAOA,CAACC,KAAY,EAAoB;IAC1C,IAAI;MACA,MAAMb,QAAQ,GAAG,MAAMC,KAAK,CAAC,IAAI,CAACH,OAAO,EAAE;QACvCa,MAAM,EAAE,MAAM;QACdG,OAAO,EAAE;UACL,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,KAAK;MAC9B,CAAC,CAAC;MAEF,OAAOb,QAAQ,CAACE,EAAE;IACtB,CAAC,CAAC,OAAOK,KAAU,EAAE;MACjB,MAAM,IAAIJ,KAAK,CAAE,0BAAyBI,KAAK,CAACC,OAAQ,EAAC,CAAC;IAC9D;EACJ;AACJ;AAEA,eAAeZ,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}